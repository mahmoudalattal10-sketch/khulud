import{u as O,r,p as c,j as e,E as y}from"./index-BnuycFB_.js";import{L as M}from"./loader-circle-CRvOquIC.js";import{C as k}from"./calendar-BMe2UDs8.js";import{H as m}from"./heart-CuylSzvL.js";import{S as L}from"./settings-DL8y1UDc.js";import{H as P}from"./hotel-BKzV7ab4.js";import{M as H}from"./map-pin-DOPbNB_R.js";const q=()=>{const d=O(),[a,C]=r.useState("bookings"),[t,h]=r.useState(null),[i,b]=r.useState([]),[D,x]=r.useState(!0),[R,p]=r.useState(null),[n,o]=r.useState(!1);r.useEffect(()=>{S()},[]);const S=async()=>{var s;if(x(!0),p(null),!c.isLoggedIn()){o(!1),x(!1);return}try{const l=await c.profile();l.success&&((s=l.data)!=null&&s.user)?(h(l.data.user),b(l.data.user.bookings||[]),o(!0)):(c.logout(),o(!1))}catch{p("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"),o(!1)}finally{x(!1)}},E=()=>{c.logout(),o(!1),h(null),b([]),d("/")},A=s=>{switch(s){case"CONFIRMED":return{text:"Ù…Ø¤ÙƒØ¯ âœ…",class:"bg-gold-100 text-gold-dark"};case"PENDING":return{text:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± â³",class:"bg-amber-100 text-amber-700"};case"CANCELLED":return{text:"Ù…Ù„ØºÙŠ âŒ",class:"bg-red-100 text-red-700"};case"COMPLETED":return{text:"Ù…ÙƒØªÙ…Ù„ âœ”ï¸",class:"bg-blue-100 text-blue-700"};default:return{text:s,class:"bg-slate-100 text-slate-700"}}},u=s=>new Date(s).toLocaleDateString("ar-SA",{day:"numeric",month:"long",year:"numeric"}),I=[{id:"bookings",label:"Ø­Ø¬ÙˆØ²Ø§ØªÙŠ",icon:k},{id:"favorites",label:"Ø§Ù„Ù…ÙØ¶Ù„Ø©",icon:m},{id:"account",label:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨",icon:L}],z=()=>e.jsx("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-white/30 backdrop-blur-sm rounded-[2.5rem] border border-white/50 text-center p-8",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-8 rounded-3xl shadow-2xl border border-white max-w-sm w-full animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(y,{className:"text-gold w-8 h-8 rotate-180"})}),e.jsx("h3",{className:"text-xl font-black text-text mb-3",children:"ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"}),e.jsxs("p",{className:"text-slate-500 font-bold text-sm mb-8",children:["ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ ",a==="bookings"?"Ø­Ø¬ÙˆØ²Ø§ØªÙƒ":a==="favorites"?"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©":"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨","."]}),e.jsx("button",{onClick:()=>d("/auth"),className:"w-full bg-primary text-white py-4 rounded-xl font-black shadow-lg hover:bg-primary transition-all active:scale-95",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨"})]})});if(D)return e.jsx("div",{className:"min-h-screen pt-40 flex items-center justify-center bg-slate-50",children:e.jsx(M,{className:"w-10 h-10 text-gold animate-spin"})});const f=(t==null?void 0:t.name)||"Ø²Ø§Ø¦Ø±";return e.jsx("div",{className:"min-h-screen pt-28 pb-20 bg-slate-50 font-cairo",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-primary rounded-[3rem] p-8 md:p-12 mb-10 relative overflow-hidden shadow-2xl text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-primary border-4 border-gold-dark/50 flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-4xl font-black text-gold-200",children:f.charAt(0)})}),e.jsxs("div",{className:"text-center md:text-right",children:[e.jsxs("h1",{className:"text-3xl font-black mb-2",children:["Ø£Ù‡Ù„Ø§Ù‹ØŒ ",f," ğŸ‘‹"]}),e.jsx("p",{className:"text-gold-200 font-medium",children:n?e.jsxs(e.Fragment,{children:[t==null?void 0:t.email,(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN"?" | Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…":""]}):"Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ù…Ø²Ø§ÙŠØ§"})]})]}),n?e.jsxs("button",{onClick:E,className:"bg-white/10 hover:bg-white/20 backdrop-blur-md px-6 py-3 rounded-2xl font-bold transition-all text-sm flex items-center gap-2 border border-white/10",children:[e.jsx(y,{size:18}),"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"]}):e.jsx("button",{onClick:()=>d("/auth"),className:"bg-gold text-white hover:bg-gold-dark px-8 py-3 rounded-2xl font-bold transition-all text-sm shadow-lg shadow-gold/20",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-72 shrink-0 space-y-3",children:I.map(s=>e.jsxs("button",{onClick:()=>C(s.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl font-bold transition-all duration-300 ${a===s.id?"bg-white text-text shadow-xl shadow-slate-200/50 scale-[1.02]":"bg-transparent text-slate-500 hover:bg-white/50"}`,children:[e.jsx(s.icon,{size:22,className:a===s.id?"text-gold":"text-slate-400"}),s.label]},s.id))}),e.jsxs("div",{className:"flex-1 relative min-h-[400px]",children:[a==="bookings"&&e.jsxs("div",{className:`space-y-6 animate-fade-in-up transition-all ${n?"":"blur-sm select-none pointer-events-none"}`,children:[e.jsxs("h2",{className:"text-2xl font-black text-text mb-6 flex items-center gap-2",children:[e.jsx(k,{size:28,className:"text-gold"}),"Ø­Ø¬ÙˆØ²Ø§ØªÙŠ (",i.length,")"]}),i.length===0?e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 border border-slate-100 shadow-sm text-center",children:[e.jsx(P,{size:48,className:"text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-black text-slate-700 mb-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª"}),e.jsx("p",{className:"text-slate-400 font-bold mb-6",children:"Ø§Ø¨Ø­Ø« Ø¹Ù† ÙÙ†Ø¯Ù‚Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ ÙˆØ§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†!"}),e.jsx("button",{onClick:()=>d("/hotels"),className:"bg-gold text-white px-8 py-3 rounded-xl font-bold hover:bg-gold-dark transition-colors",children:"Ø§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚"})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>{var g,j,N,v,w;const l=A(s.status);return e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 border border-slate-100 shadow-sm md:flex gap-6 items-center",children:[e.jsx("img",{src:((j=(g=s.room)==null?void 0:g.hotel)==null?void 0:j.image)||"/placeholder-hotel.jpg",className:"w-full md:w-32 h-32 rounded-2xl object-cover",alt:"Hotel"}),e.jsxs("div",{className:"flex-1 space-y-2 mt-4 md:mt-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-xl font-black text-text",children:((v=(N=s.room)==null?void 0:N.hotel)==null?void 0:v.name)||"ÙÙ†Ø¯Ù‚"}),e.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full ${l.class}`,children:l.text})]}),e.jsxs("p",{className:"text-slate-500 text-sm font-bold flex items-center gap-2",children:[e.jsx(H,{size:16}),((w=s.room)==null?void 0:w.name)||"ØºØ±ÙØ©"," â€¢ ",s.guestsCount," Ø¶ÙŠÙˆÙ"]}),e.jsxs("div",{className:"flex gap-4 text-sm text-text font-bold pt-2",children:[e.jsx("div",{className:"bg-slate-50 px-3 py-1.5 rounded-lg",children:u(s.checkIn)}),e.jsx("span",{className:"text-slate-300",children:"â†"}),e.jsx("div",{className:"bg-slate-50 px-3 py-1.5 rounded-lg",children:u(s.checkOut)})]})]}),e.jsxs("div",{className:"text-left mt-4 md:mt-0 flex flex-col items-end gap-3 min-w-[140px]",children:[e.jsxs("span",{className:"text-gold font-black text-lg",children:[s.totalPrice.toLocaleString()," Ø±.Ø³"]}),e.jsxs("span",{className:"text-[10px] text-slate-400 font-bold",children:["#",s.id.slice(0,8).toUpperCase()]})]})]},s.id)})})]}),a==="favorites"&&e.jsxs("div",{className:`space-y-6 animate-fade-in-up transition-all ${n?"":"blur-sm select-none pointer-events-none"}`,children:[e.jsxs("h2",{className:"text-2xl font-black text-text mb-6 flex items-center gap-2",children:[e.jsx(m,{size:28,className:"text-gold"}),"Ø§Ù„Ù…ÙØ¶Ù„Ø©"]}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 border border-slate-100 shadow-sm text-center",children:[e.jsx(m,{size:48,className:"text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-black text-slate-700 mb-2",children:"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙØ§Ø±ØºØ©"}),e.jsx("p",{className:"text-slate-400 font-bold",children:"Ø£Ø¶Ù Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ø¯ÙŠÙƒ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©."})]})]}),a==="account"&&e.jsxs("div",{className:`bg-white rounded-[2.5rem] p-8 shadow-sm border border-slate-100 animate-fade-in-up transition-all ${n?"":"blur-sm select-none pointer-events-none"}`,children:[e.jsxs("h2",{className:"text-2xl font-black text-text mb-8 flex items-center gap-2",children:[e.jsx(L,{size:28,className:"text-gold"}),"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©"]}),e.jsxs("form",{className:"space-y-6 max-w-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-500",children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"}),e.jsx("input",{type:"text",value:(t==null?void 0:t.name)||"",readOnly:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-text"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-500",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",readOnly:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-text opacity-70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-500",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("input",{type:"tel",value:(t==null?void 0:t.phone)||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",readOnly:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-text text-left dir-ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-500",children:"Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨"}),e.jsx("input",{type:"text",value:(t==null?void 0:t.role)==="SUPER_ADMIN"?"Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…":(t==null?void 0:t.role)==="ADMIN"?"Ù…Ø¯ÙŠØ±":"Ù…Ø³ØªØ®Ø¯Ù…",readOnly:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 font-bold text-text"})]})]})]}),!n&&e.jsx(z,{})]})]})]})})};export{q as default};
