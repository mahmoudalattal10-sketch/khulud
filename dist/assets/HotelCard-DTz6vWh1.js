import{d as n,r as f,e as y,j as e,L as k,S as z,f as C,B as $}from"./index-BnuycFB_.js";import{g as v,B as S}from"./imageHelper-B8xB74pV.js";import{H as D}from"./heart-CuylSzvL.js";import{I as _}from"./info-DtHom8SN.js";import{M as P}from"./message-circle-6bvLcKBQ.js";import{S as E}from"./star-MDrf6UGl.js";import{E as H}from"./eye-BTIgcQ8m.js";import{M}from"./map-pin-DOPbNB_R.js";import{C as B}from"./useFrontendHotels-N_4MiZjj.js";import{K as F,C as I,U as L,S as U,G as R,B as V,P as A,a as G,D as K,W,b as T,c as q}from"./wifi-CMWNzTAD.js";import{S as J}from"./sparkles-CTPBaUPN.js";const O=a=>({wifi:{label:"واي فاي مجاني",icon:e.jsx(q,{size:14})},parking:{label:"مواقف سيارات",icon:e.jsx(T,{size:14})},pool:{label:"مسبح فندقي",icon:e.jsx(W,{size:14})},gym:{label:"نادي رياضي",icon:e.jsx(K,{size:14})},food:{label:"مطعم فاخر",icon:e.jsx(G,{size:14})},shuttle:{label:"نقل للحرم 24/7",icon:e.jsx(A,{size:14})},spa:{label:"مركز سبا وعافية",icon:e.jsx(J,{size:14})},room_service:{label:"خدمة غرف 24/7",icon:e.jsx(V,{size:14})},kids_club:{label:"نادي أطفال",icon:e.jsx(R,{size:14})},business:{label:"مركز أعمال",icon:e.jsx($,{size:14})},laundry:{label:"خدمة غسيل",icon:e.jsx(U,{size:14})},concierge:{label:"كونسيرج",icon:e.jsx(L,{size:14})},cafe:{label:"مقهى",icon:e.jsx(I,{size:14})},valet:{label:"صف سيارات",icon:e.jsx(F,{size:14})}})[a.toLowerCase()]||{label:a,icon:e.jsx(C,{size:14})},oe=n.memo(({hotel:a,compact:o=!1,offerMode:r=!1,index:d=0})=>{var h,u;const[c,Q]=f.useState(!0),x=f.useRef(null),{toggleFavorite:j,isFavorite:m,toggleCompare:w,isInCompare:N}=y(),p=(s,t)=>{s.preventDefault(),s.stopPropagation(),t()},b=()=>a.displayPrice||a.basePrice||a.price||0,g=s=>new Date(s).toLocaleDateString("ar-EG",{day:"numeric",month:"long"});return o?e.jsxs("div",{ref:x,className:`flex gap-4 p-4 glass-surface rounded-[2.2rem] active:scale-[0.98] transition-all duration-500 cursor-pointer hover:border-gold/30 hover:shadow-xl group ${c?"animate-ios-slide":"opacity-0"}`,style:{animationDelay:`${d*100}ms`},children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shrink-0 shadow-inner",children:e.jsx("img",{src:v(a.image),className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:a.name,loading:"lazy",onError:s=>{s.target.src="/assets/images/ui/logo.png"}})}),e.jsxs("div",{className:"flex flex-col justify-center text-right overflow-hidden flex-1",children:[e.jsx("h4",{className:"font-black text-text text-sm truncate group-hover:text-gold transition-colors duration-300",children:a.name}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-gold font-black text-sm",children:b()}),e.jsx("span",{className:"text-[8px] font-black text-slate-300",children:"ريال سعودي"})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-slate-400 text-[9px] font-bold",children:a.distanceFromHaram})})]})]})]}):e.jsx(k,{to:`/hotel/${a.slug||a.id}`,className:`block group ${r?"h-full":"mb-8"}`,children:e.jsxs("div",{ref:x,className:`relative bg-white/40 backdrop-blur-xl rounded-[2.8rem] border border-white/40 shadow-[0_8px_32px_rgba(0,0,0,0.05)] overflow-hidden transition-all duration-700 hover:shadow-[0_20px_60px_rgba(0,0,0,0.12)] hover:-translate-y-2 flex flex-col ${r?"h-full":"md:flex-row"} gap-0 ${r?"":"md:gap-8"} p-4 ${c?"animate-ios-slide":"opacity-0"}`,style:{animationDelay:`${d%3*150}ms`},children:[e.jsxs("div",{className:`w-full ${r?"aspect-[4/3] h-[200px]":"md:w-[380px] lg:w-[440px] aspect-[4/3] md:aspect-auto md:h-[320px]"} rounded-[2.2rem] overflow-hidden relative shrink-0 shadow-2xl`,children:[e.jsx("img",{src:v(a.image),alt:a.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110 group-hover:rotate-1",onError:s=>{s.target.src="/assets/images/ui/logo.png"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-60"}),e.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col gap-2",children:[e.jsx("button",{onClick:s=>p(s,()=>j(a.id)),className:`w-9 h-9 rounded-full backdrop-blur-md border shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 ${m(a.id)?"bg-rose-500 border-rose-400 text-white":"bg-white/30 border-white/40 text-white hover:bg-white hover:text-rose-500"}`,children:e.jsx(D,{size:18,className:m(a.id)?"fill-current":""})}),e.jsx("button",{onClick:s=>p(s,()=>w(a.id)),className:`w-9 h-9 rounded-full backdrop-blur-md border shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 ${N(a.id)?"bg-gold border-gold text-white":"bg-white/30 border-white/40 text-white hover:bg-white hover:text-gold"}`,children:e.jsx(z,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 py-4 md:py-6 px-2 md:px-0 flex flex-col justify-between text-right",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl md:text-3xl lg:text-3xl font-black text-text leading-tight mb-3 group-hover:text-gold transition-colors duration-300 tracking-tight line-clamp-2",children:a.name}),e.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-medium line-clamp-2 md:line-clamp-3 leading-relaxed opacity-80",children:a.description||"استمتع بإقامة استثنائية مع إطلالات ساحرة وخدمات فندقية متكاملة تلبي كافة احتياجاتك في قلب العاصمة المقدسة."})]}),e.jsxs("div",{className:"flex flex-wrap justify-start gap-2 mb-6",children:[a.partialMatch&&(()=>{var t,i;const s=(i=(t=a.rooms)==null?void 0:t.find(l=>l.partialMetadata))==null?void 0:i.partialMetadata;return s?e.jsxs("div",{className:"w-full mb-4 bg-amber-50/80 border border-amber-100/50 p-4 rounded-3xl flex flex-col sm:flex-row items-center justify-between gap-4 animate-in fade-in slide-in-from-top-2 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-amber-500 shrink-0",children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-[13px] font-black text-amber-900 leading-tight mb-0.5",children:"متاح لفترة جزئية فقط"}),e.jsxs("p",{className:"text-[11px] font-bold text-amber-700/80 mb-1",children:["المواعيد المتاحة: من ",g(s.availableFrom)," إلى ",g(s.availableTo)]}),e.jsx("p",{className:"text-[10px] font-bold text-amber-600 hidden sm:block",children:"هل التاريخ لا يناسبك؟ تواصل معنا وسنوفر لك الغرفة المطلوبة."})]})]}),e.jsxs("button",{onClick:l=>{l.preventDefault(),window.open(`https://wa.me/966553882445?text=${encodeURIComponent(`السلام عليكم، لم أجد التواريخ المناسبة في فندق ${a.name}، وأرغب في المساعدة لتوفير فترة أخرى.`)}`,"_blank")},className:"flex items-center gap-2 bg-amber-500 text-white px-5 py-2.5 rounded-2xl text-[11px] font-black hover:bg-amber-600 transition-all shadow-lg shadow-amber-500/20 active:scale-95 whitespace-nowrap",children:[e.jsx(P,{size:16}),"اطلب فترتك الآن"]})]}):null})(),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"flex items-center gap-1 px-3 py-2 bg-slate-50/40 border border-slate-100/50 rounded-xl transition-all duration-300 group-hover:bg-white group-hover:border-gold/20 hover:scale-105",children:[...Array(Math.round(Number(a.rating||5)))].map((s,t)=>e.jsx("span",{className:"text-gold",children:e.jsx(E,{size:12,fill:"currentColor"})},t))}),a.view&&a.view!=="بدون إطلالة محددة"&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 bg-slate-50/40 border border-slate-100/50 rounded-xl text-[10px] md:text-[11px] font-black text-slate-500 transition-all duration-300 group-hover:bg-white group-hover:border-gold/20 hover:scale-105",children:[e.jsx("span",{className:"text-gold",children:e.jsx(H,{size:13})}),a.view==="Prophet Mosque View"?"إطلالة على المسجد النبوي":a.view==="Kaaba View"?"إطلالة على الكعبة":a.view==="Haram View"?"إطلالة على الحرم":a.view]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 bg-slate-50/40 border border-slate-100/50 rounded-xl text-[10px] md:text-[11px] font-black text-slate-500 transition-all duration-300 group-hover:bg-white group-hover:border-gold/20 hover:scale-105",children:[e.jsx("span",{className:"text-gold",children:e.jsx(M,{size:13})}),a.distanceFromHaram]}),a.hasFreeTransport&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 bg-slate-50/40 border border-slate-100/50 rounded-xl text-[10px] md:text-[11px] font-black text-slate-500 transition-all duration-300 group-hover:bg-white group-hover:border-gold/20 hover:scale-105",children:[e.jsx("span",{className:"text-gold",children:e.jsx(S,{size:13})}),"توصيل مجاني للحرم"]}),n.useMemo(()=>[...a.amenities||[]].sort(()=>Math.random()-.5),[a.id]).slice(0,3).map((s,t)=>{const{label:i,icon:l}=O(s);return e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 bg-slate-50/40 border border-slate-100/50 rounded-xl text-[10px] md:text-[11px] font-black text-slate-500 transition-all duration-300 group-hover:bg-white group-hover:border-gold/20 hover:scale-105",children:[e.jsx("span",{className:"text-gold",children:n.cloneElement(l,{size:13})}),i]},t)}),(((h=a.amenities)==null?void 0:h.length)||0)>3&&e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-slate-50 border border-slate-100 rounded-xl text-[10px] font-black text-slate-400",children:[e.jsxs("span",{children:["+",(((u=a.amenities)==null?void 0:u.length)||0)-3]}),e.jsx("span",{children:"مزيد"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100/50 pt-5 mt-auto gap-4",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-start gap-1",children:[e.jsx("span",{className:"text-[10px] md:text-[9px] text-slate-400 font-black uppercase tracking-widest",children:"تبدأ من"}),e.jsxs("div",{className:"flex items-baseline gap-1 flex-wrap",children:[e.jsx("span",{className:"text-3xl md:text-4xl font-black text-gold tracking-tighter tabular-nums",children:b().toLocaleString()}),e.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-400 whitespace-nowrap",children:"ر.س / ليلة"})]})]}),e.jsxs("button",{className:"w-auto flex items-center justify-center gap-2 bg-slate-700 text-white px-5 md:pl-8 md:pr-12 py-3 md:py-4 rounded-[1.2rem] md:rounded-[1.8rem] font-black text-[11px] md:text-sm shadow-xl transition-all duration-500 hover:bg-slate-800 hover:shadow-slate-700/30 hover:scale-[1.03] active:scale-95 group/btn relative overflow-hidden shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000"}),e.jsx("span",{children:r?"تفاصيل":"عرض التفاصيل"}),e.jsx(B,{size:14,className:"translate-x-0 group-hover/btn:-translate-x-2 transition-transform duration-300 md:w-5 md:h-5"})]})]})]})]})})});export{oe as H};
