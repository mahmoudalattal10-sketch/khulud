import{c as f,u as v,r as l,j as e,C as w,M as j,A as N,p as n}from"./index-BnuycFB_.js";import{S as y}from"./shield-check-rBeJKJH1.js";import{L as k}from"./loader-circle-CRvOquIC.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=f("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),E=()=>{const o=v(),[d,p]=l.useState(""),[c,h]=l.useState(""),[m,x]=l.useState(!1),[u,i]=l.useState(null);l.useEffect(()=>{(async()=>{var r;try{const a=await n.verify();if(a.success&&((r=a.data)!=null&&r.user)){const s=a.data.user.role;(s==="ADMIN"||s==="SUPER_ADMIN")&&setTimeout(()=>o("/admin"),100)}}catch{}})()},[o]);const g=async t=>{var r;t.preventDefault(),x(!0),i(null);try{const a=await n.login(d,c);if(a.success&&((r=a.data)!=null&&r.user)){const{user:s}=a.data;if(s.role==="ADMIN"||s.role==="SUPER_ADMIN"){try{localStorage.setItem("adminUser",JSON.stringify(s))}catch(b){console.error("Failed to save admin info to localStorage",b)}o("/admin")}else i("ليس لديك صلاحيات للوصول إلى لوحة التحكم. هذه الصفحة مخصصة للمسؤولين فقط."),n.logout()}else i(a.error||"بيانات الدخول غير صحيحة. يرجى التحقق وإعادة المحاولة.")}catch{i("حدث خطأ في الاتصال بالخادم. يرجى المحاولة مرة أخرى.")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-950 font-sans overflow-hidden py-12 px-4 sm:px-6 lg:px-8",dir:"rtl",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[800px] h-[800px] bg-emerald-500/20 rounded-full blur-[150px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[800px] h-[800px] bg-indigo-500/15 rounded-full blur-[150px] animate-pulse",style:{animationDuration:"8s"}}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.02]"}),e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(rgba(16, 185, 129, 0.05) 1px, transparent 1px)",backgroundSize:"50px 50px"}})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-md animate-in fade-in zoom-in-95 duration-700",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-2xl border border-white/10 rounded-[3rem] shadow-2xl shadow-emerald-950/50 overflow-hidden relative group",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-400 to-transparent opacity-60 group-hover:opacity-100 transition-opacity duration-1000"}),e.jsxs("div",{className:"p-8 sm:p-10 relative",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-[2rem] bg-gradient-to-br from-emerald-500 to-emerald-700 border border-emerald-400/20 shadow-2xl shadow-emerald-500/30 mb-6 relative group/icon",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-400/30 blur-2xl rounded-full opacity-0 group-hover/icon:opacity-100 transition-opacity duration-500"}),e.jsx(y,{className:"w-12 h-12 text-white relative z-10",strokeWidth:2})]}),e.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight mb-2 drop-shadow-lg",children:["لوحة التحكم ",e.jsx("span",{className:"text-emerald-400",children:"الإدارية"})]}),e.jsx("p",{className:"text-emerald-300/60 text-xs font-bold tracking-widest uppercase",children:"Secure Administrative Portal"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[u&&e.jsxs("div",{className:"bg-red-500/20 border border-red-400/30 rounded-2xl p-4 flex items-start gap-4 animate-in slide-in-from-top-2 backdrop-blur-xl",children:[e.jsx("div",{className:"p-2 bg-red-500/30 rounded-full shrink-0",children:e.jsx(w,{className:"w-4 h-4 text-red-300"})}),e.jsx("p",{className:"text-red-100 text-sm font-semibold leading-relaxed pt-1",children:u})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"group relative",children:[e.jsx("label",{className:"text-[11px] font-black text-emerald-300/80 uppercase tracking-wider mb-2 block mr-1 transition-colors group-focus-within:text-emerald-400",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none z-10",children:e.jsx(j,{className:"h-5 w-5 text-slate-400 group-focus-within:text-emerald-400 transition-colors duration-300"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:t=>p(t.target.value),className:"block w-full pr-12 pl-4 py-4 bg-white/10 backdrop-blur-xl border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-400/50 sm:text-sm rounded-2xl transition-all duration-300 font-medium hover:bg-white/15",placeholder:"admin@example.com",dir:"ltr"})]})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("label",{className:"text-[11px] font-black text-emerald-300/80 uppercase tracking-wider mb-2 block mr-1 transition-colors group-focus-within:text-emerald-400",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none z-10",children:e.jsx(M,{className:"h-5 w-5 text-slate-400 group-focus-within:text-emerald-400 transition-colors duration-300"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:t=>h(t.target.value),className:"block w-full pr-12 pl-4 py-4 bg-white/10 backdrop-blur-xl border border-white/20 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-400/50 sm:text-sm rounded-2xl transition-all duration-300 font-medium hover:bg-white/15 tracking-widest",placeholder:"••••••••••••",dir:"ltr"})]})]})]}),e.jsxs("button",{type:"submit",disabled:m,className:"w-full relative group overflow-hidden bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-black py-4 px-4 rounded-2xl transition-all duration-300 hover:shadow-[0_0_40px_-5px_rgba(16,185,129,0.6)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed mt-8 shadow-lg shadow-emerald-500/30",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out"}),e.jsx("div",{className:"relative flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"جاري التحقق..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"تسجيل الدخول"}),e.jsx(N,{size:18,className:"group-hover:-translate-x-1 transition-transform"})]})})]})]})]}),e.jsxs("div",{className:"px-8 py-6 bg-slate-950/40 backdrop-blur-xl border-t border-white/10 flex items-center justify-between text-[10px] text-slate-400 font-mono",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse mt-1 shadow-lg shadow-emerald-400/50"}),e.jsxs("span",{children:["النظام يعمل",e.jsx("br",{}),"v4.0.0"]})]}),e.jsxs("div",{className:"text-left opacity-70",children:["للمسؤولين",e.jsx("br",{}),"فقط"]})]})]}),e.jsx("div",{className:"mt-8 text-center text-emerald-300/40 text-xs font-medium",children:"© 2026 ضيافات خلود. جميع الحقوق محفوظة."})]})]})};export{E as default};
