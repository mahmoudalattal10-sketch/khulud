import{c as xe,a as be,r as a,j as e,u as he,b as fe,C as je,R as ve,X as Ne}from"./index-BnuycFB_.js";import{H as we}from"./HotelCard-DTz6vWh1.js";import{u as me,T as ye,D as ke,B as oe,C as ne,a as Se,M as Ce}from"./useFrontendHotels-N_4MiZjj.js";import{M as re}from"./map-pin-DOPbNB_R.js";import{S as q,C as De,P as ze}from"./search-BTLAkR-M.js";import{C as Me,G as Le}from"./info-DtHom8SN.js";import{C as Ae}from"./chevron-right-BbAb0F-g.js";import{M as $e}from"./MobileSearchOverlay-f9tqpCIn.js";import{S as ce}from"./star-MDrf6UGl.js";import{F as de}from"./filter-BAuXbmUZ.js";import{L as Ie}from"./loader-circle-CRvOquIC.js";import"./imageHelper-B8xB74pV.js";import"./heart-CuylSzvL.js";import"./message-circle-6bvLcKBQ.js";import"./eye-BTIgcQ8m.js";import"./wifi-CMWNzTAD.js";import"./sparkles-CTPBaUPN.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=xe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=xe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Oe=({onSearch:G,className:se="",initialCity:F="",hideAiToggle:S=!1})=>{const{searchData:C,updateSearch:j}=be(),T=C.adults,v=C.children,D=C.rooms,g=C.destination,c=C.checkIn,b=C.checkOut,_=s=>j({adults:s}),L=s=>j({children:s}),K=s=>j({rooms:s}),Q=s=>j({destination:s}),[u,z]=a.useState("none"),[A,ie]=a.useState(!1),[$,U]=a.useState(""),[le,I]=a.useState(!1),[f,N]=a.useState(new Date),J=()=>{N(new Date(f.getFullYear(),f.getMonth()+1,1))},M=()=>{N(new Date(f.getFullYear(),f.getMonth()-1,1))},X=s=>new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),H=s=>new Date(s.getFullYear(),s.getMonth(),1).getDay(),Z=s=>!!(c&&s.toDateString()===c.toDateString()||b&&s.toDateString()===b.toDateString()),R=s=>{if(!c||!b)return!1;const n=new Date(s.setHours(0,0,0,0)),o=new Date(new Date(c).setHours(0,0,0,0)),h=new Date(new Date(b).setHours(0,0,0,0));return n>o&&n<h},V=s=>{const n=new Date(s.setHours(0,0,0,0));!c||c&&b?j({checkIn:n,checkOut:null}):n>c?j({checkIn:c,checkOut:n}):j({checkIn:n,checkOut:null})},Y=a.useRef(null);a.useRef(null);const B=s=>{z(s===u?"none":s)};a.useEffect(()=>{const s=n=>{Y.current&&!Y.current.contains(n.target)&&z("none")};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const x=()=>z("none"),ee=()=>{if(!g){z("destination"),alert("يرجى اختيار الوجهة أولاً للبدء بالبحث");return}G&&G({city:g,checkIn:c,checkOut:b,guests:{adults:T,children:v,rooms:D}}),x()},O=({date:s})=>{const n=s.toLocaleDateString("ar-SA",{month:"long",year:"numeric"}),o=X(s),h=H(s),y=["ح","ن","ث","ر","خ","ج","س"],d=[];for(let i=0;i<h;i++)d.push(null);for(let i=1;i<=o;i++)d.push(new Date(s.getFullYear(),s.getMonth(),i));return e.jsxs("div",{className:"flex-1 min-w-[280px]",children:[e.jsx("h3",{className:"text-center font-black text-text mb-6 text-sm",children:n}),e.jsx("div",{className:"grid grid-cols-7 mb-2",children:y.map(i=>e.jsx("div",{className:"text-center text-[10px] font-black text-slate-400 py-1",children:i},i))}),e.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:d.map((i,k)=>{if(!i)return e.jsx("div",{},`p-${k}`);const E=Z(i),P=R(i),l=i<new Date(new Date().setHours(0,0,0,0));return e.jsx("div",{className:`relative py-1 ${P?"bg-gold/5":""}`,children:e.jsx("button",{disabled:l,onClick:m=>{m.stopPropagation(),V(i)},className:`relative z-10 w-full aspect-square flex items-center justify-center text-xs font-bold rounded-xl transition-all ${E?"bg-gold text-white shadow-lg scale-110":"text-slate-700 hover:bg-slate-100"} ${P?"text-gold font-black":""} ${l?"opacity-20 cursor-not-allowed":""}`,children:i.getDate()})},i.getTime())})})]})},te=()=>{const s=new Date(f.getFullYear(),f.getMonth()+1,1);return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 flex justify-between z-20 pointer-events-none",children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),M()},className:"p-2 bg-white rounded-full shadow-md border border-slate-100 text-slate-400 hover:text-gold transition-all pointer-events-auto active:scale-90",children:e.jsx(Ae,{size:16})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),J()},className:"p-2 bg-white rounded-full shadow-md border border-slate-100 text-slate-400 hover:text-gold transition-all pointer-events-auto active:scale-90",children:e.jsx(ne,{size:16})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 pt-4",children:[e.jsx(O,{date:f}),e.jsx("div",{className:"hidden lg:block w-px bg-slate-100 self-stretch my-10"}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(O,{date:s})})]})]})},W=()=>{const[s,n]=a.useState(""),[o,h]=a.useState(null),y=he(),{hotels:d}=me(),i=ye.filter(l=>l.includes(s)),k=s.trim().length>=2?d.filter(l=>l.name.includes(s)||l.nameEn&&l.nameEn.toLowerCase().includes(s.toLowerCase())).slice(0,5):[],E=ke.map(l=>({...l,cities:l.cities.filter(m=>m.includes(s)||l.name.includes(s))})).filter(l=>l.cities.length>0),P=i.length>0||E.length>0||k.length>0;return a.useEffect(()=>{s.trim()!==""&&h(null)},[s]),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"sticky top-0 bg-white pb-4 z-10 border-b border-slate-50 mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"ابحث عن فندق، مدينة أو دولة...",value:s,onChange:l=>n(l.target.value),autoFocus:!0,className:"w-full bg-slate-50 border border-slate-100 rounded-[1.5rem] px-5 py-4 text-xs font-bold placeholder:text-slate-400 focus:outline-none focus:bg-white focus:border-gold transition-all"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",children:e.jsx(q,{size:16})})]})}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto no-scrollbar scroll-smooth space-y-6",children:P?e.jsxs(e.Fragment,{children:[k.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsx(oe,{size:12,className:"text-gold"}),"الفنادق المقترحة"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.map(l=>e.jsxs("button",{onClick:m=>{m.stopPropagation(),x(),y(`/hotel/${l.slug}`)},className:"w-full text-right p-4 rounded-[1.8rem] transition-all flex items-center justify-between group bg-white/50 hover:bg-white border border-transparent backdrop-blur-sm shadow-sm hover:shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block font-black text-sm group-hover:text-gold transition-colors",children:l.name}),e.jsx("span",{className:"block text-[10px] font-bold text-slate-400",children:l.city})]}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-100 overflow-hidden border border-slate-100 group-hover:border-gold/30 transition-all shrink-0",children:l.image?e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gold",children:e.jsx(oe,{size:16})})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"p-2 rounded-lg bg-slate-50 group-hover:bg-gold/10 text-slate-400 group-hover:text-gold transition-all",children:e.jsx(ne,{size:14})})})]},l.id))})]}),i.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[e.jsx(Me,{size:12,className:"text-gold"}),"أغلب المدن حجزاً"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map(l=>e.jsxs("button",{onClick:m=>{m.stopPropagation(),Q(l),x()},className:`w-full text-right p-4 rounded-[1.8rem] transition-all flex items-center justify-between group ${g===l?"bg-gold text-white shadow-lg":"bg-white/50 hover:bg-white border border-transparent backdrop-blur-sm"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${g===l?"bg-white/20":"bg-slate-100 group-hover:bg-gold/10"}`,children:e.jsx(re,{size:14,className:g===l?"text-white":"text-gold"})}),e.jsx("span",{className:"font-black text-sm",children:l})]},l))})]}),e.jsx("div",{className:"space-y-2",children:E.map(l=>{const m=o===l.code||s.trim()!==""&&!k.length;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:p=>{p.stopPropagation(),h(o===l.code?null:l.code)},className:`w-full flex items-center justify-between p-4 rounded-[1.5rem] transition-all border ${o===l.code?"bg-slate-50 border-gold/20":"bg-white border-transparent hover:bg-slate-50"}`,children:[e.jsx("div",{className:"text-slate-400",children:m?e.jsx(Se,{size:16}):e.jsx(De,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-black text-sm text-secondary",children:l.name}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center",children:e.jsx(Le,{size:14,className:"text-gold"})})]})]}),m&&e.jsx("div",{className:"grid grid-cols-1 gap-2 pr-4 border-r-2 border-slate-50 mr-4 animate-premium-popup",children:l.cities.map(p=>e.jsxs("button",{onClick:ae=>{ae.stopPropagation(),Q(p),x()},className:`w-full text-right p-4 rounded-[1.8rem] transition-all flex items-center justify-between group ${g===p?"bg-gold text-white shadow-lg":"bg-white/50 hover:bg-white border border-transparent backdrop-blur-sm"}`,children:[e.jsx("div",{className:`p-2 rounded-xl ${g===p?"bg-white/20":"bg-slate-100 group-hover:bg-gold/10"}`,children:e.jsx(re,{size:14,className:g===p?"text-white":"text-gold"})}),e.jsx("span",{className:"font-black text-sm",children:p})]},p))})]},l.code)})})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300",children:e.jsx(q,{size:24})}),e.jsx("p",{className:"text-xs font-bold text-slate-400",children:"عذراً، لم نجد ما تبحث عنه"})]})})]})},w=({label:s,subLabel:n,value:o,setter:h,min:y=0})=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 backdrop-blur-md rounded-[2rem] border border-white/20 mb-3 transition-all hover:bg-white hover:border-gold/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),h(o+1)},className:"w-10 h-10 rounded-full bg-primary shadow-lg flex items-center justify-center text-white hover:bg-emerald-700 active:scale-90 transition-all",children:e.jsx(ze,{size:16})}),e.jsx("span",{className:"font-black text-text text-xl w-6 text-center",children:o}),e.jsx("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),h(Math.max(y,o-1))},className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 border border-slate-200 hover:text-gold active:scale-90 transition-all",children:e.jsx(Ce,{size:16})})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"font-black text-text text-sm",children:s}),n&&e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:n})]})]}),t=({type:s,isOpen:n,children:o,width:h="380px"})=>n?e.jsx("div",{className:"hidden lg:block absolute z-[900] top-[110%] left-1/2 -translate-x-1/2",style:{width:h},children:e.jsxs("div",{className:"animate-premium-popup",children:[e.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-[0_25px_60px_-15px_rgba(0,0,0,0.15)] border border-slate-100",children:[e.jsx("div",{className:"relative",children:o}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:y=>{y.stopPropagation(),x()},className:"bg-primary text-white px-10 py-3 rounded-full font-black text-xs hover:bg-gold active:scale-90 transition-all shadow-lg",children:"تأكيد"})})]}),e.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 border-8 border-transparent border-b-white"})]})}):null,r=({type:s,isOpen:n,children:o})=>e.jsxs("div",{className:"lg:hidden",children:[e.jsx("div",{className:`fixed inset-0 bg-primary/40 z-[2000] transition-all duration-700 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:x}),e.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-[2100] bg-white rounded-t-[4rem] shadow-[0_-20px_80px_rgba(0,0,0,0.1)] transition-all transform px-6 pb-12 pt-4 ${n?"translate-y-0 scale-100 opacity-100":"translate-y-full scale-[0.9] opacity-0"}`,children:[e.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full mx-auto mb-10",onClick:x}),e.jsxs("div",{className:"max-w-xl mx-auto",children:[o,e.jsx("button",{onClick:x,className:"w-full bg-primary text-gold font-black py-5 rounded-full text-lg mt-10 active:scale-95 transition-all",children:"تأكيد والبدء"})]})]})]});return e.jsxs("div",{className:`relative ${se}`,ref:Y,children:[e.jsx("div",{className:"bg-white/40 backdrop-blur-3xl rounded-[3rem] p-3 border border-white/60 shadow-xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-2",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{"data-field":"destination",onClick:()=>B("destination"),className:`bg-white/60 p-3 rounded-[2rem] flex items-center gap-3 cursor-pointer hover:bg-white transition-all border border-white/40 ${u==="destination"?"ring-2 ring-gold":""}`,children:[e.jsx("div",{className:"p-2 bg-slate-50 text-gold rounded-xl",children:e.jsx(re,{size:18})}),e.jsxs("div",{className:"text-right flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"الوجهة"}),e.jsx("p",{className:"text-xs font-black text-text truncate",children:g||"إلى أين ستذهب؟"})]})]}),e.jsx(t,{type:"destination",isOpen:u==="destination",children:e.jsx(W,{})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{"data-field":"dates",onClick:()=>B("dates"),className:`bg-white/60 p-3 rounded-[2rem] flex items-center gap-3 cursor-pointer hover:bg-white transition-all border border-white/40 ${u==="dates"?"ring-2 ring-gold":""}`,children:[e.jsx("div",{className:"p-2 bg-slate-50 text-gold rounded-xl",children:e.jsx(Re,{size:18})}),e.jsxs("div",{className:"text-right flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"التاريخ"}),e.jsx("p",{className:"text-xs font-black text-text truncate",children:c?`${c.toLocaleDateString("ar-SA",{day:"numeric",month:"short"})} - ${b?b.toLocaleDateString("ar-SA",{day:"numeric",month:"short"}):"..."}`:"اختر التاريخ"})]})]}),e.jsx(t,{type:"dates",isOpen:u==="dates",width:"720px",children:e.jsx(te,{})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{"data-field":"guests",onClick:()=>B("guests"),className:`bg-white/60 p-3 rounded-[2rem] flex items-center gap-3 cursor-pointer hover:bg-white transition-all border border-white/40 ${u==="guests"?"ring-2 ring-gold":""}`,children:[e.jsx("div",{className:"p-2 bg-slate-50 text-gold rounded-xl",children:e.jsx(ue,{size:18})}),e.jsxs("div",{className:"text-right flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"الضيوف الغرف"}),e.jsxs("p",{className:"text-xs font-black text-text truncate",children:[T," بالغ، ",v," طفل"]})]})]}),e.jsx(t,{type:"guests",isOpen:u==="guests",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{label:"بالغين",value:T,setter:_}),e.jsx(w,{label:"أطفال",value:v,setter:L}),e.jsx("div",{className:"pt-2 border-t border-slate-100",children:e.jsx(w,{label:"عدد الغرف",value:D,setter:K})})]})})]})]}),e.jsx("button",{onClick:ee,className:"bg-primary text-white font-black px-8 py-3 rounded-[2rem] hover:bg-gold transition-all shadow-lg text-sm",children:"تطبيق البحث"})]})}),e.jsx(r,{type:"destination",isOpen:u==="destination",children:e.jsx(W,{})}),e.jsx(r,{type:"dates",isOpen:u==="dates",children:e.jsx(te,{})}),e.jsxs(r,{type:"guests",isOpen:u==="guests",children:[e.jsx(w,{label:"بالغين",value:T,setter:_}),e.jsx(w,{label:"أطفال",value:v,setter:L}),e.jsx(w,{label:"عدد الغرف",value:D,setter:K})]})]})},Ze=()=>{var w;const G=he(),se=fe(),F=new URLSearchParams(se.search),S=F.get("city"),C=F.get("checkIn"),j=F.get("checkOut"),T=F.get("guests")?Number(F.get("guests")):void 0,[v,D]=a.useState(!1),[g,c]=a.useState(!1),[b,_]=a.useState(!1),{filteredHotels:L,loading:K,error:Q,refetch:u,filters:z,applyFilter:A,resetFilters:ie,setSortBy:$,searchQuery:U,setSearchQuery:le}=me(S,{checkIn:C,checkOut:j,guests:T}),[I,f]=a.useState(z.maxPrice||3e3),[N,J]=a.useState(z.starRatings||[]),[M,X]=a.useState(z.maxDistance||[]),[H,Z]=a.useState("recommended"),[R,V]=a.useState(U);a.useEffect(()=>{const t=setTimeout(()=>{le(R)},300);return()=>clearTimeout(t)},[R,le]),a.useEffect(()=>{U!==R&&V(U)},[U]),a.useEffect(()=>{A("maxPrice",I)},[I,A]),a.useEffect(()=>{A("starRatings",N)},[N,A]),a.useEffect(()=>{A("maxDistance",M)},[M,A]),a.useEffect(()=>{switch(H){case"price_asc":$({field:"price",direction:"asc"});break;case"price_desc":$({field:"price",direction:"desc"});break;case"rating":$({field:"rating",direction:"desc"});break;case"smart":$({field:"smart",direction:"desc"});break;default:$({field:"rating",direction:"desc"})}},[H,$]);const Y=t=>{J(r=>r.includes(t)?r.filter(s=>s!==t):[...r,t])},B=t=>{X(r=>r.includes(t)?r.filter(s=>s!==t):[...r,t])},x=()=>{f(3e3),J([]),X([]),Z("recommended"),ie()},ee=[{id:"smart",label:"الخيار الأفضل (قيمة مقابل سعر)"},{id:"recommended",label:"الموصى به"},{id:"price_asc",label:"الأقل سعراً"},{id:"price_desc",label:"الأعلى سعراً"},{id:"rating",label:"الأعلى تقييماً"}],O=a.useRef([]),te=t=>{t&&!O.current.includes(t)&&O.current.push(t)};a.useEffect(()=>{const t=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&s.target.classList.add("active")})},{threshold:.1});return O.current.forEach(r=>t.observe(r)),()=>{O.current.forEach(r=>t.unobserve(r))}},[L]),a.useEffect(()=>{v?document.body.classList.add("filters-open"):document.body.classList.remove("filters-open")},[v]);const W=t=>{var k,E,P,l,m;const r=new URLSearchParams;let s=t.city;const n=["مكة المكرمة","مكه المكرمه","مكة","مكه","makkah"],o=["المدينة المنورة","المدينه المنوره","المدينة","المدينه","madinah"],h=["جدة","جده","jeddah"],y=["الرياض","riyadh"];n.includes(t.city)?s="makkah":o.includes(t.city)?s="madinah":h.includes(t.city)?s="jeddah":y.includes(t.city)?s="riyadh":t.city==="دبي"||((k=t.city)==null?void 0:k.toLowerCase())==="dubai"?s="dubai":t.city==="القاهرة"||((E=t.city)==null?void 0:E.toLowerCase())==="cairo"?s="cairo":t.city==="الدوحة"||((P=t.city)==null?void 0:P.toLowerCase())==="doha"?s="doha":(t.city==="جميع الفنادق"||t.city==="الكل"||!t.city)&&(s="all");const d=p=>{const ae=p.getFullYear(),pe=String(p.getMonth()+1).padStart(2,"0"),ge=String(p.getDate()).padStart(2,"0");return`${ae}-${pe}-${ge}`};s&&r.set("city",s),t.checkIn&&r.set("checkIn",d(t.checkIn)),t.checkOut&&r.set("checkOut",d(t.checkOut));const i=(((l=t.guests)==null?void 0:l.adults)||0)+(((m=t.guests)==null?void 0:m.children)||0);i>0&&r.set("guests",i.toString()),G(`/hotels?${r.toString()}`)};return e.jsxs("div",{className:"min-h-screen bg-slate-50 font-cairo",children:[e.jsx("div",{className:"h-24 md:h-28"}),e.jsx("div",{className:"relative z-30 bg-slate-50/95 backdrop-blur-md py-4 border-b border-slate-200 transition-all duration-300 shadow-sm",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 md:px-8",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(Oe,{onSearch:W,hideAiToggle:!0})}),e.jsxs("button",{onClick:()=>c(!0),className:"md:hidden w-full bg-white border border-slate-200 p-4 rounded-[2rem] flex items-center justify-between shadow-sm active:scale-95 transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gold/10 rounded-xl flex items-center justify-center text-gold",children:e.jsx(q,{size:20})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:S==="makkah"?"مكة المكرمة":S==="madinah"?"المدينة المنورة":"جميع المدن"}),e.jsx("p",{className:"text-xs font-black text-text",children:"انقر لتعديل البحث والتواريخ"})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-400",children:e.jsx(ne,{size:16})})]})]})}),e.jsx("div",{className:"max-w-[1600px] mx-auto px-4 md:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("aside",{className:"hidden lg:block w-80 shrink-0 space-y-8 sticky top-48 h-[calc(100vh-12rem)] overflow-y-auto custom-scrollbar pl-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-black text-text",children:"تصفية النتائج"}),e.jsx("button",{onClick:x,className:"text-xs text-slate-500 font-bold hover:text-gold transition-colors",children:"إعادة تعيين"})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 group focus-within:ring-2 focus-within:ring-gold/20 transition-all",children:[e.jsx("h3",{className:"font-bold text-text mb-4",children:"البحث عن فندق محدد"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"ادخل اسم الفندق...",value:R,onChange:t=>V(t.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl px-5 py-4 text-sm font-bold placeholder:text-slate-400 focus:outline-none focus:bg-white focus:border-gold transition-all"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",children:e.jsx(q,{size:18})})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-text",children:"نطاق السعر"}),e.jsxs("span",{className:"text-xs font-bold text-gold bg-gold/10 px-4 py-1.5 rounded-full",children:["أقل من ",I," ريال"]})]}),e.jsx("input",{type:"range",min:"100",max:"10000",step:"100",value:I,onChange:t=>f(Number(t.target.value)),className:"w-full accent-gold h-2 bg-slate-100 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-text mb-4",children:S==="madinah"?"المسافة عن المسجد النبوي":"المسافة عن الحرم"}),e.jsx("div",{className:"space-y-3",children:[{value:0,label:"إطلالة مباشرة / صف أول"},{value:200,label:"أقل من 200 متر"},{value:500,label:"أقل من 500 متر"},{value:1e3,label:"أقل من 1 كم"}].map(t=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:M.includes(t.value),onChange:()=>B(t.value),className:"peer w-5 h-5 border-2 border-slate-200 rounded-lg checked:bg-gold checked:border-gold transition-colors appearance-none"}),e.jsx("svg",{className:"absolute w-3 h-3 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}),e.jsx("span",{className:`text-slate-600 font-bold transition-colors ${M.includes(t.value)?"text-text":"group-hover:text-gold"}`,children:t.label})]},t.value))})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-text mb-4",children:"تصنيف الفندق"}),e.jsx("div",{className:"space-y-3",children:[5,4,3].map(t=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:N.includes(t),onChange:()=>Y(t),className:"peer w-5 h-5 border-2 border-slate-200 rounded-lg checked:bg-gold checked:border-gold transition-colors appearance-none"}),e.jsx("svg",{className:"absolute w-3 h-3 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}),e.jsxs("span",{className:`text-slate-600 font-bold transition-colors flex items-center gap-1 ${N.includes(t)?"text-text":"group-hover:text-gold"}`,children:[t," نجوم",e.jsx("div",{className:"flex text-gold",children:[...Array(t)].map((r,s)=>e.jsx(ce,{size:12,fill:"currentColor"},s))})]})]},t))})]})]}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-text mb-2",children:[S==="makkah"?"فنادق مكة المكرمة":S==="madinah"?"فنادق المدينة المنورة":"جميع الفنادق",e.jsx("span",{className:"text-gold text-4xl mr-2",children:"."})]}),e.jsxs("p",{className:"text-slate-500 font-bold",children:["وجدنا ",L.length," مكان إقامة متاح"]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto relative z-20",children:[e.jsxs("button",{onClick:()=>D(!0),className:"lg:hidden flex-1 bg-primary text-white px-6 py-3 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(de,{size:18}),"تصفية"]}),e.jsxs("div",{className:"relative group md:w-56 w-1/2",children:[e.jsx("button",{onClick:()=>_(!b),onBlur:()=>setTimeout(()=>_(!1),200),className:"w-full bg-white border border-slate-200 px-4 py-3 rounded-2xl font-bold text-slate-600 flex items-center justify-between hover:border-gold transition-colors",children:e.jsxs("span",{className:"flex items-center gap-2 truncate text-sm",children:[e.jsx(ue,{size:16}),(w=ee.find(t=>t.id===H))==null?void 0:w.label]})}),e.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden transition-all duration-200 origin-top ${b?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:ee.map(t=>e.jsx("button",{onClick:()=>{Z(t.id),_(!1)},className:`w-full text-right px-4 py-3 text-sm font-bold hover:bg-slate-50 transition-colors ${H===t.id?"text-gold bg-slate-50":"text-slate-600"}`,children:t.label},t.id))})]})]})]}),e.jsx("div",{className:"space-y-6",children:Q?e.jsxs("div",{className:"text-center py-20 bg-white rounded-[2.5rem] border border-red-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 text-red-400",children:e.jsx(je,{size:32})}),e.jsx("h3",{className:"text-xl font-black text-text mb-2",children:"حدث خطأ أثناء تحميل الفنادق"}),e.jsx("p",{className:"text-slate-500 font-medium mb-6",children:Q}),e.jsxs("button",{onClick:()=>u(),className:"bg-primary text-gold px-8 py-3 rounded-xl font-bold hover:bg-primary/90 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(ve,{size:18}),"إعادة المحاولة"]})]}):K?e.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center animate-in fade-in duration-500",children:[e.jsx("div",{className:"w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mb-6",children:e.jsx(Ie,{className:"w-10 h-10 text-gold animate-spin"})}),e.jsx("h3",{className:"text-2xl font-black text-[#0f172a] mb-2",children:"جاري تحميل الفنادق..."}),e.jsx("p",{className:"text-slate-400 font-bold",children:"يرجى الانتظار لحظات بينما نقوم بجلب أفضل العروض"})]}):L.length>0?L.map((t,r)=>e.jsx("div",{ref:te,className:"reveal-on-scroll transform will-change-[transform,opacity] transition-[opacity,transform] duration-500 translate-y-4 opacity-0",children:e.jsx(we,{hotel:t,index:r})},t.id)):e.jsxs("div",{className:"text-center py-20 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:e.jsx(de,{size:32})}),e.jsx("h3",{className:"text-xl font-black text-text mb-2",children:"لا توجد نتائج"}),e.jsx("p",{className:"text-slate-500 font-medium mb-6",children:"جرب تغيير خيارات التصفية للحصول على نتائج أكثر"}),e.jsx("button",{onClick:x,className:"bg-gold text-white px-8 py-3 rounded-xl font-bold hover:bg-gold-dark transition-colors",children:"إعادة تعيين الفلاتر"})]})})]})]})}),e.jsx($e,{isOpen:g,onClose:()=>c(!1),onSearch:W}),e.jsxs("div",{className:`fixed inset-0 z-[60] lg:hidden transition-opacity duration-[400ms] ${v?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>D(!1)}),e.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-white rounded-t-[3rem] p-6 h-[85vh] overflow-y-auto transition-transform duration-[500ms] ease-ios transform flex flex-col ${v?"translate-y-0":"translate-y-full"}`,children:[e.jsx("div",{className:"w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-8 shrink-0"}),e.jsxs("div",{className:"flex justify-between items-center mb-8 shrink-0 px-2",children:[e.jsx("button",{onClick:()=>D(!1),className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:e.jsx(Ne,{size:20})}),e.jsx("h2",{className:"text-xl font-black text-secondary",children:"تصفية النتائج"}),e.jsx("button",{onClick:x,className:"text-gold font-bold text-xs",children:"إعادة تعيين"})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("h3",{className:"font-bold text-lg text-text",children:"بحث بالاسم"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"ادخل اسم الفندق...",value:R,onChange:t=>V(t.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl px-5 py-4 text-sm font-bold placeholder:text-slate-400 focus:outline-none focus:bg-white focus:border-gold transition-all"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",children:e.jsx(q,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-8 pb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-xl text-text",children:"نطاق السعر"}),e.jsxs("span",{className:"text-xs font-bold text-gold bg-gold/10 px-4 py-1.5 rounded-full",children:["أقل من ",I," ريال"]})]}),e.jsx("input",{type:"range",min:"100",max:"10000",step:"100",value:I,onChange:t=>f(Number(t.target.value)),className:"w-full accent-gold h-2 bg-slate-100 rounded-lg"})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-8",children:[e.jsx("h3",{className:"font-bold text-xl text-text mb-4",children:S==="madinah"?"المسافة عن المسجد النبوي":"المسافة عن الحرم"}),e.jsx("div",{className:"space-y-4",children:[{value:0,label:"إطلالة مباشرة / صف أول"},{value:200,label:"أقل من 200 متر"},{value:500,label:"أقل من 500 متر"},{value:1e3,label:"أقل من 1 كم"}].map(t=>e.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:M.includes(t.value),onChange:()=>B(t.value),className:"peer w-6 h-6 border-2 border-slate-200 rounded-lg checked:bg-gold checked:border-gold transition-colors appearance-none"}),e.jsx("svg",{className:"absolute w-4 h-4 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}),e.jsx("span",{className:`text-slate-600 font-bold text-lg ${M.includes(t.value)?"text-text":""}`,children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl text-text mb-4",children:"تصنيف الفندق"}),e.jsx("div",{className:"space-y-4",children:[5,4,3].map(t=>e.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:N.includes(t),onChange:()=>Y(t),className:"peer w-6 h-6 border-2 border-slate-200 rounded-lg checked:bg-gold checked:border-gold transition-colors appearance-none"}),e.jsx("svg",{className:"absolute w-4 h-4 text-white opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}),e.jsxs("span",{className:`text-slate-600 font-bold text-lg flex items-center gap-2 ${N.includes(t)?"text-text":""}`,children:[t," نجوم",e.jsx("div",{className:"flex text-gold",children:[...Array(t)].map((r,s)=>e.jsx(ce,{size:14,fill:"currentColor"},s))})]})]},t))})]})]}),e.jsx("div",{className:"pt-4 shrink-0 border-t border-slate-100",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:x,className:"flex-1 py-4 rounded-2xl font-bold text-slate-500 bg-slate-100 active:scale-95 transition-all",children:"مسح الكل"}),e.jsx("button",{onClick:()=>D(!1),className:"flex-[2] bg-secondary text-white py-4 rounded-2xl font-black text-lg shadow-xl shadow-secondary/20 active:scale-95 transition-transform",children:"تطبيق الفلاتر"})]})})]})]}),e.jsx("style",{children:`
                .reveal-on-scroll.active {
                    opacity: 1;
                    transform: translateY(0);
                }
            `})]})};export{Ze as default};
